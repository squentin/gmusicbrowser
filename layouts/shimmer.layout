[Shimmer Desktop]
Type=G+
Title		= "gmusicbrowser"
DefaultFocus	= SimpleSearch
Default		= Window(size=1000x750)
Window		= hidden=HBSongPlaylist|VPMosaic
Author		= simon@shimmerproject.org
### main window containers: top bar, main and statusbar ###
VBMain		= VBTop _HPMain
HPMain		= VBLeft _HPRight
VBTop		= HBTop
HBTop		= ABButtons _15VBPlayer 10ABToggle -5ABSettings
### top bar from left to right ###
ABButtons	= (yalign=0,yscale=0.0) HBButtons
HBButtons	= Prev Play Next(click2=NextAlbum)
VBPlayer	= 1Filler0 HBTitle HBTimeSlider
HBTitle		= Title(expand_max=300,minsize=0,markup="<big><b>%t</b></big> ",click1="",tip=_"Title: %t (Track No. %n)",yalign=0.5) LockAlbum(stock="on:gmb-lock gmb-lockopen off:gmb-breadcrumb gmb-locklight") AlbumBreadcrumb(tip=_"Album: %l (%Y)",minsize=1,expand_max=200,yalign=0.5,minsize=1,markup="<big> </big>%l ",showcover=0) LockArtist(stock="on:gmb-lock gmb-lockopen off:gmb-breadcrumb gmb-locklight") ArtistBreadcrumb(tip=_"Artist: %a",expand_max=200,yalign=0.5,minsize=0,markup="<big> </big>%a") -Stars(yalign=0.5)
HBTimeSlider	= PlayingTime(markup="%s",initsize="XX:XX",xalign=0) _TimeSlider(direct_mode=1) -Length(markup="$length",initsize="XX:XX",xalign=1)
ABToggle	= (yalign=0,yscale=0.0) HBToggle
HBToggle	= ToggleButton0(relief=none,size=large-toolbar,icon=gmb-view-list,widget=HBSongPlaylist,togglegroup=1,tip=_"Simple List View") ToggleButton1(relief=none,size=large-toolbar,icon=gmb-view-tree,widget=SongTree,togglegroup=1,tip=_"Songtree View") ToggleButton2(relief=none,size=large-toolbar,icon=gmb-view-mosaic,widget=VPMosaic,togglegroup=1,tip=_"Mosaic View") Fullscreen(stock=gmb-view-fullscreen,size=large-toolbar,tip="Fullscreen View") 10Filler2 ABSearchBox
ABSearchBox	= (yalign=0) SimpleSearch(suggest=1)
ABSettings	= (yalign=0,yscale=0.0) HBSettings
HBSettings	= ExtraButtons(size=large-toolbar) BMSettings
BMSettings	= (icon=gtk-preferences,size="large-toolbar") SMLibrary LayoutItem PlayItem SeparatorMenuItem01 MenuItem34(click1=OpenCustom(Equalizer),label=_"Equalizer",icon=gmb-equalizer) SeparatorMenuItem20 MenuItem14(command=OpenPref,label=_"Settings",icon="gtk-preferences") MenuItem05(command=Quit,label=_"Quit",icon="gtk-quit")
SMLibrary	= (label=_"Library") MenuItem00(command="RunPerlCode(::ChooseAddPath(0,1))",label=_"Add Music",icon="gtk-add") MenuItem32(command="RunPerlCode(::IdleScan)",label=_"Rescan Collection",icon="gtk-refresh")
### main left: artist pane and album-cover ###
VBLeft		= _VBListCover HBStatus
VBListCover	= _NBList Cover(overlay=6x6:350x350:elementary/overlay.png,default=elementary/no-cover.svg,showcover=0,maxsize=350)
NBList		= (tabpos="bottom") VBArtist QueueList(songtree=1,tabtitle=_"Queue (%n)",tabicon="",cols="queuenumber titleaa",colwidth="queuenumber 20 titleaa 248",showbb=1) HBLyrics VBAbout
HBLyrics	= (tabtitle=_"Lyrics") _PluginLyrics
VBAbout		= (tabtitle=_"Info") _PluginArtistinfo
VBArtist	= (tabtitle=_"Artist") _FilterPane0(nb=2,hidebb=1,pages=artists,page_artists/lmarkup=1,hidetabs=1,lmarkup="<b>%a</b>%Y\x0a<small>%x / %s / <small>%l</small></small>")
#HBCover		= Cover(overlay=6x6:350x350:elementary/overlay.png,default=elementary/no-cover.svg,showcover=0)
HBStatus	= 3Total(format=short,relief=none,button=1,mode=library) -2Sort(button=1,tip=_"Right-click to toggle shuffle/random") -2Filter(button=1,tip=_"Right-click to remove filters") -2ToggleButton3(icon=gmb-picture,relief=none,size=menu,widget=HBCover,tip=_"Show/Hide Cover")
### main right: list/tree/mosaic widgets ###
HPRight		= _HBSongListtree
HBSongListtree	= _SongTree(cols="playandqueueandtrack title length ratingpic",colwidth="artist 124 lastplay 107 length 49 playandqueue 19 playandqueueandtrack 20 playcount 22 ratingpic 100 title 390 titleaa 397 track 21",grouping="album|artistalbum_breadcrumbs(picsize=100)|disc|discleft(width=15)",follow=1,sort="year album disc track") _HBSongPlaylist _VPMosaic
HBSongPlaylist	= _SongList(cols="playandqueueandtrack title artist album year length playcount",sort=artist,colwidth="album 200 artist 200 file 400 lastplay 100 length 41 path 413 playandqueueandtrack 24 playcount 96 rating 80 title 270 track 21 year 31",follow=1,sort="year album disc track")
VPMosaic	= _FilterPane2(nb=3,hidebb=1,pages=album,page_album/mode=mosaic,page_album/mmarkup=1,page_album/mpicsize=96,hidetabs=1)
### bottom: statusbar ### Pref(size=small-toolbar,button=0)
### positioning and sizing ###
#HSize0		= 350 NBList
#VSize0		= 350 HBCover
DefaultFocus	= SimpleSearch

[Shimmer Netbook]
Type=G+
Title		= "gmusicbrowser"
DefaultFocus	= SimpleSearch
Default		= Window(size=1000x750)
Author		= simon@shimmerproject.org
Window		= hidden=SimpleSearch
### main window containers: top bar, main and statusbar ###
VBMain		= VBTop _NBList
VBTop		= 3Filler8 HBTop
HBTop		= VBButtons _15VBPlayer -5VBSettings
VBButtons	= HBButtons 3Filler4
HBButtons	= Prev Play Next(click2=NextAlbum)
VBPlayer	= HBTitle VBTime
HBTitle		= Title(expand_max=300,minsize=0,markup="<big><b>%t</b></big> ",click1="",tip=_"Title: %t (Track No. %n)".if($track,pesc($track)),yalign=0.5) LockAlbum(stock="on:gmb-lock gmb-lockopen off:gmb-breadcrumb gmb-locklight") AlbumBreadcrumb(tip=_"Album: %l (%Y)",minsize=0,expand_max=200,yalign=0.5,markup="<big> </big>%l ",showcover=0) LockArtist(stock="on:gmb-lock gmb-lockopen off:gmb-breadcrumb gmb-locklight") ArtistBreadcrumb(tip=_"Artist: %a",expand_max=200,yalign=0.5,minsize=0,markup="<big> </big>%a") -Stars(yalign=0.5)
VBTime		= _HBTimeSlider _SimpleSearch(suggest=1)
HBTimeSlider	= PlayingTime(markup="%s",initsize="XX:XX",xalign=0) _TimeSlider(direct_mode=1) -Length(markup="$length",initsize="XX:XX",xalign=1)
VBSettings	= HBPrefSearch 5Filler5
HBPrefSearch	= ToggleButton0(size=large-toolbar,relief=none,icon=gtk-find,widget=SimpleSearch) ExtraButtons BMSettings
BMSettings	= (icon=gtk-preferences,size="large-toolbar") SMLibrary LayoutItem PlayItem SeparatorMenuItem01 MenuItem34(click1=OpenCustom(Equalizer),label=_"Equalizer") SeparatorMenuItem20 MenuItem14(command=OpenPref,label=_"Settings",icon="gtk-preferences") MenuItem05(command=Quit,label=_"Quit",icon="gtk-quit")
SMLibrary	= (label=_"Library") MenuItem00(command="RunPerlCode(::ChooseAddPath(0,1))",label=_"Add Music",icon="gtk-add") MenuItem32(command="RunPerlCode(::IdleScan)",label=_"Rescan Collection",icon="gtk-refresh")
NBList		= (tabpos="bottom") HBSongListtree QueueList(songtree=1,tabtitle=_"Queue (%n)",tabicon="",cols="queuenumber titleaa",colwidth="queuenumber 20 titleaa 248",showbb=1) HBLyrics VBAbout
HBLyrics	= (tabtitle=_"Lyrics") _PluginLyrics
VBAbout		= (tabtitle=_"Info") _PluginArtistinfo
HBSongListtree	= (tabtitle=_"Playlist") _SongTree(cols="playandqueueandtrack title length ratingpic",colwidth="artist 124 lastplay 107 length 49 playandqueue 19 playandqueueandtrack 20 playcount 22 ratingpic 100 title 390 titleaa 397 track 21",grouping="album|Compact(picsize=50)|disc|discleft(width=15)",follow=1,sort="year album disc track")
DefaultFocus	= Play

# Trayicon-Layouts
#####################################

[Shimmer Traytip]
Type=T
VBMain		= HBTime Filler0 VBMain1
VBMain1		= HBLeft _HBRight
HBLeft		= _Cover(forceratio=1,default=elementary/no-cover.svg) VBText
VBText		= 2HBArtist HBAlbum _2HBTitle
HBButtons	= Prev(size=small-toolbar) Play(size=small-toolbar) Next(size=small-toolbar)
HBTitle		= LockSong _Title(font=12,interval=75)
HBArtist	= LockArtist _Artist(font=8)
HBAlbum		= LockAlbum Album(font=8,minsize=0) Date(font=7,markup=" <b>»</b> %y")
HBRating	= Filler1  -Stars
HBTime		= _TimeBar(minheight=7)
HBRight		= HBButtons _2HBRating
VSize0		= 3 Filler0
HSize0		= Filler1 LockArtist LockAlbum LockSong
HSize1		= Cover HBButtons

# Fullscreen Layouts
#####################################

[Shimmer Party]
Type=F
Window		= fullscreen=1,sticky=0,hidden=VBSidebar
VBMain		= _HPMain HBNowPlaying
HPMain		= _FilterPane2(nb=3,hidebb=1,pages=album,page_album/mode=mosaic,page_album/mmarkup=1,page_album/mpicsize=128,hidetabs=1) VBSidebar
HBNowPlaying	= HBButtons 15Filler0 _HBTitle
HBButtons	= Prev Play Next
HBTitle		= Title(expand_max=300,minsize=0,markup="<big><b>%t</b></big> ",click1="",tip=_"Title: %t (Track No. %n)".if($track,pesc($track)),yalign=0.5) LockAlbum(stock="on:gmb-lock gmb-lockopen off:gmb-breadcrumb gmb-locklight") AlbumBreadcrumb(tip=_"Album: %l (%Y)",minsize=1,expand_max=200,yalign=0.5,minsize=1,markup="<big> </big>%l ",showcover=0) LockArtist(stock="on:gmb-lock gmb-lockopen off:gmb-breadcrumb gmb-locklight") ArtistBreadcrumb(tip=_"Artist: %a",expand_max=200,yalign=0.5,minsize=0,markup="<big> </big>%a") -ToggleButton1(size=button,relief=none,icon=gtk-find,widget=VBSidebar) -20Stars(yalign=0.5)
VBSidebar	= 4Filler1 7HBSearch _7HBQueue 4Filler2
HBQueue		= 14_QueueList(group=1,songtree=1,cols="queuenumber titleaa",colwidth="queuenumber 20 titleaa 248")
HBSearch	= 4Filler3 6Label0(markup='<span size="xx-large" weight="ultrabold">«</span>') _SimpleSearch(suggest=1) 7Filler4
KeyBindings	= Escape CloseWindow

# Groups for Songtree
#####################################

{Group discleft}
title=disc on the left side
head=3
left=width
vcollapse=head+title:h+line:h+2
title:	text(markup='<b><big>'.pesc($title).'</big></b>'.if(!$_expanded,'<big><b>»</b></big>'),pad=2,w=left))
width:	OptionNumber(default=15,min=10,max=100,step=1)
line: line(x1=1,y1=1,x2=$_w,y2=1,color='#ccc',width=1)

{Group artistalbum_breadcrumbs}
title=album and artist breadcrumbs
head=title:h
tail=25
vcollapse=head
vmin=pic:y+pic:h+25
left=pic:w+2
title:	text(markup='<b><big>'.pesc($album).'</big></b>'. if($year,'  <big><b>«</b></big>  '.pesc($year)) . '  <big><b>«</b></big>  '.pesc($artist),pad=2)
pic:	+aapic(y=title:h+title:y,picsize=picsize,ypad=2,xpad=1,aa='album')
picsize : OptionNumber(default=100,min=20,max=1000,step=10)
picstars : picture(file=ratingpic($rating_avrg),x=(picsize/2)-(picstars:w/2),y=pic:y+pic:h,hide=$rating_avrg==50 || picsize < 80)